<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.nlog-project.org/schemas/NLog.xsd NLog.xsd" autoReload="true" throwExceptions="false" internalLogLevel="Off"
internalLogFile="c:\temp\nlog-internal.log">
    <extensions>
        <add assembly="ReflectSoftware.Insight.Extensions.NLog" />
    </extensions>
    <targets>
        <target name="f" xsi:type="AsyncWrapper" queueLimit="5000" overflowAction="Discard">
            <target xsi:type="File" name="f" encoding="UTF-8" fileName="${basedir}/logs/${shortdate}.log" layout="=============================${newline}${longdate} - ${level:uppercase=true} [${threadid}]: ${message}${onexception:${newline}EXCEPTION\: ${exception:format=ToString} ${newline}Stack trace\: ${newline} ${stacktrace}} ${newline}============================="
            /></target>
        <target name="ReflectInsight" xsi:type="AsyncWrapper" queueLimit="5000" overflowAction="Discard">
            <target xsi:type="ReflectInsight" instanceName="Newbe.Mahua" displayLevel="true" displayLocation="true" layout="${callsite:className=true:fileName=true:includeSourcePath=true:methodName=true}" /></target>
    </targets>
    <rules>
        <logger name="*" minlevel="Debug" writeTo="f" />
        <logger name="*" minlevel="Trace" writeTo="ReflectInsight" />
    </rules>
</nlog>